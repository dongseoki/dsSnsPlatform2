좋습니다 👍 핵심만 정리된 **요구사항 명세** 형태로 정리해드릴게요.

---

# **📑 요구사항 명세 (허리 건강습관 추적 + 결제 모듈 연동 MVP)**

## **1. 목표**

- 사용자가 **허리 건강습관(예: 스트레칭, 운동)** 을 기록하고
- **구독 결제(Mock)** 를 통해 지속적 사용을 유도하는 **MVP 서비스** 제공

---

## **2. 주요 기능**

### **2.1 습관 관리**

- 습관 추가 (목표 유형: 횟수, 시간 / 목표 값 입력)
- 습관 목록 조회
- 습관 삭제

### **2.2 기록 관리**

- 습관별 기록 추가 (날짜, 값)
- 기록 조회 (기간별)

### **2.3 통계/대시보드**

- 주간 통계 조회 (횟수/시간 합계, 달성률)

### **2.4 결제/구독**

- 구독 플랜 선택 (Basic, Pro 등)
- Mock 결제 요청/완료 처리
- 구독 상태 표시 (활성/만료)

---

## **3. 비기능 요구사항**

- API: RESTful, Swagger(OpenAPI) 문서 제공
- DB: MySQL 8.x, JPA 사용
- 성능: 습관 기록 조회 시 N+1 최소화 (fetch join)
- 안정성: 결제 완료 시 트랜잭션으로 **결제 + 구독 활성화 동시 처리**

---

## **4. 예상 화면 (총 4~5장)**

1. **로그인 대체 화면** (더미 사용자 선택, 단순 버튼)
2. **습관 대시보드** (습관 목록 + 주간 통계 카드)
3. **습관 추가/기록 입력 화면** (폼 기반)
4. **결제 페이지** (플랜 선택 + 결제하기 버튼)
5. **결제 완료 화면** (구독 활성 상태 표시)

---

## **5. 범위 한정 (20시간 MVP 기준)**

- 실제 PG사 연동은 제외, Mock 결제만 구현
- UI 최소화 (디자인보단 흐름 위주)
- 인증/회원가입 생략 (더미 유저 사용)

---

👉 이 정도 틀로 바로 개발 착수 가능하고, **20시간 범위에 맞게 잘라진 요구사항**이에요.

혹시 제가 이걸 **표 형태(요구사항 ID, 설명, 우선순위)** 로도 깔끔하게 다시 정리해드릴까요?

깔끔하게 정리해드릴게요 👇

---

## **📱 예상 화면 수**

- 로그인 대체 화면(더미 유저 선택) → **1개**
- 습관 대시보드(습관 목록 + 주간 통계) → **1개**
- 습관 추가/기록 입력 화면 → **1개**
- 결제/구독 화면 (플랜 선택 + 결제) → **1개**
- 결제 완료 화면 (구독 상태 표시) → **1개**

➡️ **총 4~5개 화면**

---

## **🔗 예상 API 수**

### **습관/기록**

1. POST /api/habits – 습관 추가
2. GET /api/habits – 습관 목록 조회
3. DELETE /api/habits/{id} – 습관 삭제
4. POST /api/habits/{id}/logs – 습관 기록 추가
5. GET /api/habits/{id}/logs – 습관 기록 조회
6. GET /api/stats/weekly – 주간 통계 조회

### **결제/구독(Mock)**

1. POST /api/payments/checkout – 결제 요청(Mock)
2. POST /api/payments/{id}/complete – 결제 완료 처리
3. GET /api/payments/{id} – 결제 상태 조회
4. GET /api/subscription – 현재 구독 상태 조회

➡️ **약 9~10개 API**

---

## **🗄️ 예상 테이블 수**

1. **user** – 사용자 정보 (MVP에선 더미지만 구조만)
2. **habit** – 습관 정의 (이름, 목표 유형, 목표 값)
3. **habit_log** – 습관 기록 (날짜, 값)
4. **subscription** – 구독 정보 (플랜, 상태, 시작일)
5. **payment** – 결제 내역 (금액, 상태, 메서드 등)

➡️ **총 5개 테이블**

---

👉 정리:

- 화면: **4~5개**
- API: **9~10개**
- 테이블: **5개**

---

혹시 제가 이걸 **하나의 ERD 다이어그램**으로 깔끔하게 그려드릴까요?

네 👍 바로 표로 정리해드릴게요.

---

# **📑 요구사항 명세표 (MVP 기준)**

| **ID** | **설명**                                                            | **우선순위** |
| ------ | ------------------------------------------------------------------- | ------------ |
| FR-01  | 습관을 추가할 수 있다 (목표 유형, 목표 값 포함)                     | 높음         |
| FR-02  | 습관 목록을 조회할 수 있다                                          | 높음         |
| FR-03  | 습관을 삭제할 수 있다                                               | 중간         |
| FR-04  | 습관별 기록(날짜, 값)을 추가할 수 있다                              | 높음         |
| FR-05  | 습관별 기록을 기간별 조회할 수 있다                                 | 높음         |
| FR-06  | 주간 통계(합계/달성률)를 조회할 수 있다                             | 중간         |
| FR-07  | 구독 플랜을 선택할 수 있다 (Basic, Pro 등)                          | 높음         |
| FR-08  | Mock 결제 요청을 보낼 수 있다                                       | 높음         |
| FR-09  | Mock 결제를 완료 처리할 수 있다                                     | 높음         |
| FR-10  | 결제 상태를 조회할 수 있다                                          | 중간         |
| FR-11  | 현재 구독 상태를 조회할 수 있다                                     | 높음         |
| NFR-01 | 모든 API는 Swagger(OpenAPI)로 문서화된다                            | 높음         |
| NFR-02 | 결제 완료 시 트랜잭션으로 결제 + 구독 활성화를 동시에 처리해야 한다 | 높음         |
| NFR-03 | 습관 기록 조회 시 N+1 쿼리를 방지한다                               | 중간         |

---

👉 이 표는 **개발 체크리스트**로도 바로 쓸 수 있습니다.

원하시면 제가 **화면 단위(4~5개 예상 화면)별 요구사항 매핑** 도 같이 붙여드릴까요?

# wbs

좋습니다 👍 말씀해주신 전략(1~6단계 흐름)을 **WBS(Work Breakdown Structure)** 로 다시 정리해드릴게요.

앞서 말씀드린 “API 계약을 DB보다 반 발짝 먼저”라는 보완점도 반영해서 작성했습니다.

---

# **📑 WBS (허리 건강습관 추적 + 결제 모듈 연동 MVP)**

| **WBS ID** | **작업 항목**                 | **세부 설명**                                                                          | **예상 소요 (시간)** | **우선순위** |
| ---------- | ----------------------------- | -------------------------------------------------------------------------------------- | -------------------- | ------------ |
| 1.1        | 기획 – 요구사항 정의          | 유저 스토리/수용 기준 정의, 화면 목록(4~5장) 확정, 범위·제외 범위 설정                 | 1h                   | 높음         |
| 1.2        | 기획 – 기능 우선순위          | Must/Should/Nice 구분, 슬라이스 순서 확정                                              | 0.5h                 | 높음         |
| 2.1        | API 계약(OpenAPI)             | 주요 엔드포인트 정의, 공통 응답/에러 스키마 설계, Mock 서버 생성                       | 1h                   | 높음         |
| 3.1        | DB 스키마 설계                | user, habit, habit_log, subscription, payment 테이블 설계 및 마이그레이션 파일 작성    | 1h                   | 높음         |
| 4.1        | 프론트 설계                   | 라우팅 맵(/dashboard, /habits/new, /payments/checkout, /done) 정의, 컴포넌트 구조 초안 | 1h                   | 중간         |
| 5.1        | 화면 슬라이스 ① – 더미 로그인 | 더미 유저 선택 UI + API 연동                                                           | 0.5h                 | 중간         |
| 5.2        | 화면 슬라이스 ② – 습관 관리   | 습관 추가/조회/삭제 API 구현 + 프론트 연동                                             | 2h                   | 높음         |
| 5.3        | 화면 슬라이스 ③ – 기록 관리   | 기록 추가/조회 API 구현 + 프론트 연동                                                  | 2h                   | 높음         |
| 5.4        | 화면 슬라이스 ④ – 통계 조회   | 주간 통계 API 구현(fetch join) + 프론트 반영                                           | 1.5h                 | 중간         |
| 5.5        | 화면 슬라이스 ⑤ – 결제/구독   | 구독 선택 → Mock 결제 요청/완료 → 구독 상태 표시                                       | 3h                   | 높음         |
| 6.1        | 부분 테스트(슬라이스 단위)    | 각 화면 완성 시 미니 E2E 테스트(습관 생성→조회→통계→결제 플로우)                       | 2h                   | 높음         |
| 7.1        | 비기능 – 성능                 | N+1 최소화 확인(JPA fetch join), DB 인덱스 점검                                        | 1h                   | 중간         |
| 7.2        | 비기능 – 안정성               | 결제 + 구독 트랜잭션 원자성 검증                                                       | 1h                   | 높음         |
| 8.1        | 통합 테스트 & 데모            | 전체 플로우 통합 시연, 데모 스크립트 정리                                              | 2h                   | 높음         |

---

## **✅ 합계**

- 총 예상: **약 20시간**
  (기획·계약·DB: 3.5h, 프론트 설계: 1h, 화면/슬라이스: 9h, 테스트: 5h, 비기능·통합: 2.5h)

---

👉 이 WBS는 **실제 개발 전략(1→6단계)** 에 맞춰 쪼개놓았기 때문에,

**우선순위 높은 슬라이스(습관 관리·결제)** 를 먼저 완성 → 빠른 피드백 가능 → 남은 시간에 통계/비기능 품질 보완 순으로 진행하면 됩니다.

원하시면 제가 이걸 **간트 차트(순서 + 병렬 가능 작업 표시)** 로도 시각화해드릴까요?
